【Tso2Pmx Ver. 0.3.2】

■これは何？

3Dカスタム少女のヘビーセーブデータ(.tdcgsav.png)やTSOファイル(.tso)を、
MikuMikuDanceのモデルデータ(.pmx)に、変換するツールです。


■Tso2Pmx利用にあたっての注意事項
〇モデリングデータ及びボーン構造の流用は「3Dカスタム少女」＆「3Dカスタム少女XP」を正規に
購入所有している方に許可されています。

〇添付した利用規約や公式ホームページ(http://tech3d.sakura.ne.jp/)も同時に参照ください。

〇次の４点について、電話で問い合わせ、テックアーツ3D社の代表の栗原様より確認を得ました
(a) MMDやゲームに抽出したモデルを組み込んでもよい
(b) MMDやゲームに組み込む為の目的でデータを配布してもよい
(c) 配布されたデータを改変したり、二次利用してもよい
(d) (c)については、3Dカスタム少女ユーザーでなくてもよい

ただし、以上は他のMOD作成者の著作権が付加されていない場合についてです。
付加されている場合は、そのMOD作成者の指示に従ってください。

再配布する場合、必ず3Dカスタム少女由来であることを明記してください。
非常に幅広い流用を許した規約ではありますが、著作権がフリーなわけではありません。

現状、ほとんどのカス子MODはボーン＆スキニング構造を3Dカスタム少女から流用しています。
したがって、服のようなMODで一見3Dカスタム少女由来に見えなくても、
多くのカス子MODは、テックアーツの著作権からフリーではありません。ご注意ください。

〇多くの場合、カス子モデルにはテックアーツ３Ｄ社の著作権に加えて、MOD作成者の著作権が
付加されています。MOD作成者に最大限の配慮をお願いします。

〇利用にあたっては、作者は一切の責任を負いませんので、よろしくお願いします。


■Ｑ＆Ａ
〇エラーが出て、起動しないのですが･･･。
.NET Framework及びDirectXが最新のバージョンでない可能性があります。
Windows Updateなどを利用して、最新のバージョンをインストールしてみてください。
また、次のWikiの記事を参考にしてください。
http://www8.atwiki.jp/3dcustom/pages/88.html#Q025

〇"ファイルを読み込むことができませんでした。"とエラーが出て、変換できない。
セーブデータは通常のセーブデータではなく、ヘビーセーブデータとなっていますか？
Tso2PmxにはXPからセーブ可能になった、ヘビーセーブデータが必要です。ご確認ください。

〇"エラーにより、変換できませんでした。"とエラーが出て、変換できない。
いくつかの異なるヘビーセーブデータで確認をとった上で、居酒屋の改造スレに報告ください。

〇変換はできましたが、MMDでどうやって読み込めばよいのかわかりません･･･。
変換されたPMXはいわゆる普通のMMDモデルと同じ扱いなので、ググってMMDの使い方を調べてください。
次の動画が参考になると思います。
http://www.nicovideo.jp/watch/sm4471421

〇変換はできましたが、MMD上でモデルのテクスチャなどの表示がおかしいです・・。
使用しているMMDのバージョンはいくつですか？
Ver5.xx系では表示がおかしくなる現象が確認されています。
最新版で確認してみてください。

〇連続で変換してMMDで確認していたところ、モデルのテクスチャの表示がおかしくなった。
MMDではテクスチャをキャッシュ（保存）しているようで、
以前のテクスチャが継続して適応される場合があります。
一度、MMDを再起動して確認してみてください。

〇『影＆輪郭線の表示』を有効にすると、ある一帯が黒で塗りつぶされたようになる
同封の"トピックス.txt"を参照ください。

〇いろいろやってみたけど、やっぱり特定のセーブデータから変換したモデルがおかしくなります。
居酒屋の改造スレに報告ください。


■謝辞
〇カスタム少女モデルの読み込みのために以下のソースを利用させていただきました。
TSOView-0.3.1
Nomeu氏
http://3dcustom.ath.cx/
TSOView-0.3.1の中身については、後のバージョンに対応するためほどんどいじらないようにしています。

CSScriptLibrary.dll
http://www.csscript.net/Licence.html

カスタム少女周りのツールの充実はNomeu氏抜きには語れません。
さらに、Nomeu氏には本ツールのデバッグにも尽力いただいております。多謝。

また、職人ギルド(http://3dcustom.ath.cx/)の運営者Konoa氏がいなければ、
このツールが世に出ることはなかったと思います。Konoa氏にスペシャルサンクスを。

〇PMDファイルの書き出しのために以下のソースを利用させていただきました。
NyMmd-forCS-1.1.0
Nyatla氏
http://code.google.com/p/nymmd/
剛体などの拡張モデルに対応させ、かつファイルを書き出し可能にするために、あちこち拡張改変しています。

NyMmdはARTK_MMDを元にしています。
ARTK_MMD
PY氏
http://ppyy.hp.infoseek.co.jp/artk_mmd.html
なお、ARTK_MMD、NyMmdはGPLv2を継承しています。ご注意ください。

        nomeu追記：
        〇PMXファイルの書き出しのために以下のソースを利用させていただきました。
        PMDエディタ ver 0.1.2.3 PMX仕様.txt
        なお、Tso2Pmx ver 0.3.0以降はNyMmd-forCSを含みません。

拡張改変のために以下の記事が大変参考になりました。
通りすがりの記憶
http://blog.goo.ne.jp/torisu_tetosuki/e/209ad341d3ece2b1b4df24abf619d6e4

これらのソースも多くの先人の方々によって蓄積されたものが元となっています。
これら全ての方々に感謝します。

〇 表情の自動作成のために以下のポーズデータを流用させていただきました
XPP00254 投げキッス
XPP00311 表情45個 
XPP00389 こてヨメポーズ整理再梱包品　③複数・表情・フィギュア系 
感謝します。

○ 以下の配布物に含まれるcsファイルをデフォルトの体型変更として使用しています
XPC01943 TMOProportion用体型変更いろいろcs2.2
MMD00130 表情モーフ用tmo詰め合わせ_100808
感謝します。

最後に、
２つのソフトの創始である、テックアーツ３Ｄ、及び樋口氏に感謝します。


■ライセンス
TSOView-0.3.1の元のライセンスに従うものとします。


■開発者、利用者の皆様へ
意見、感想、要望、エラー報告など、居酒屋の改造スレまで報告いただけると幸いです。
全て対応できるとは限りませんが、ぼちぼちやっていきます。

3Dカスタム少女職人ギルド(http://3dcustom.ath.cx/)においていくつかのプロジェクトが進行中です。
興味がありましたら参加して頂けると幸いです。

ちなみに、私はNimonoと申します。
連絡を取りたい場合は、居酒屋の改造スレか職人ギルドの方にお願いします。


■更新遍歴
Ver. 0.3.2
・表示枠でのボーン名重複を避ける
・捩りは軸固定に変換
・IK接続先は回転と操作のみ

Ver. 0.3.1
・TDCG ver 0.3.6
・二回変換するとIKリンクが二重になるバグを修正
・男モデルでは剛体設定を無視する

Ver. 0.3.0
・Tso2Pmxブランチに移行
・PMX形式で書き出し
・NyMmd-forCSを削除

Ver. 0.2.4
・TDCG Version 0.36へ更新、一部のtsoを扱えない不具合を修正
・Tスタンスプリセットのキットを同梱

Ver. 0.2.3
・ビューアの再描画時の不具合修正
・ボーン構造、剛体＆ジョイントをカスタマイズしやすいように仕様を変更。

Ver. 0.2.2
・捩ボーン、腕ＩＫを実装
・つま先ＩＫの修正

Ver. 0.2.1
・いくつかのバグの修正、インターフェイスを少し変更
・腕周りの初期ポーズをデフォミクモデルに近いものに変更

Ver. 0.2.0
・ビューアーを内蔵、それに伴いUIを変更
・上半身のボーンをカス子ボーンに近いものに変更

Ver. 0.1.6
・特殊体型の設定方法をTMOProportionと同じ仕様に変更
・つま先が浮かないように初期ポーズを調整
・腕のScaleを変更している体型（例：Ika体型）だと、変換後腕がおかしくなる不具合を修正
・複数ファイルのドラッグ＆ドロップに対応
・髪やスカート、乳のボーン名を、
　「髪後左１」「乳左３」「ス後左１」→「左後髪１」「左乳３」「左ス後１」
　といったふうに変更
・材質について、基本値をDiffuse->1.0, Ambient->0.5に変更
・"Tso2Pmd変換トピックス.txt"、"体型変更解説"を同封
・いくつかのバクを修正

Ver. 0.1.5
・背景の変換に対応
・重複頂点を省略するようにした
・スキニングの不具合を修正（多少はマシになったはず）
・剛体を選択できるようにしてみた（現在調整不足で、おまけ程度の機能になっています）
・モーションによって、上の歯が顔から出てくることがあったため、”にやり”の表情を変更した

Ver. 0.1.4
・Tsoファイル単体での変換、男MODの変換に対応

Ver. 0.1.3
・スフィアマップを利用して、Toonテクスチャの色とびの補完を行うようにした
・PMDエディタにおいて、材質名が表示されるようにした

Ver. 0.1.2
・”省略する頂点グループを指定”機能を強化
・同一のマテリアルを統合するか否かを選択可能にした
・眉のデフォルトの表情を変更

Ver. 0.1.1
・PMDエディタ上で再読み込み時にエラーが生じる不具合を修正
・表情に関連した頂点グループを省略すると破綻する不具合を修正

Ver. 0.1.0
・同じマテリアルが大量に生成されていた不具合を修正
・マテリアルを一覧表示し、指定したマテリアルを頂点ごと省略する機能を実装
・指の破綻を修正
・その他、細かいことを修正

Ver. 0.0.7
・toonテクスチャの指定がずれていた不具合を修正
・腕の陰のつき方がおかしかった不具合を修正
・終端のボーンの設定がおかしかった不具合を修正
・これに伴って、変換後のPMDがメタセコ(PmdImporter)で読み込めるようになった
・不要な線ポリゴンを除去

Ver. 0.0.6
・UIを変更
・Readmeなどをわかりやすく工夫した（つもり）
・剛体の設定を調整
・髪、乳、スカートの、ボーン＆剛体＆ジョイントの名前をわかりやすく変更した
・髪、乳、スカートのボーンを枠に表示させるようにした
・腰周りの破綻を修正
・新色の髪でこけるエラーを解決
・その他、細かいことを修正

Ver. 0.0.5
・頂点数チェッカーを同封
・輪郭線＆影の表示を選択できるようにした

Ver. 0.0.4
・枠にボーンが表示されるようにした
・剛体周りの不具合を修正＆ある程度自然に見えるように調整
・髪、スカートの剛体を生成するかどうか選択できるようにした
・表情モーフの破綻をちょっとだけ修正

Ver. 0.0.3
・左右が反転していたのを修正。同時に陰のつき方も直ったと思います
・toonテクスチャをPMDと同じ形式となるように、左に90°回転して出力するようにした

Ver. 0.0.2
・64bitに対応
・旧３Ｄカスタム少女由来の頭皮によるエラーに対応
・どこでエラーが起こっているか多少わかりやすくした

Ver. 0.0.1
・とりあえず、公式アップロード


開発スタッフ

・tso2pmxブランチ
　nomeu
・tso2pmdコア
　nimono
・tdcgアセンブリ
　nomeu
・リリースエンジニアリング、デバッグ
　konoa
