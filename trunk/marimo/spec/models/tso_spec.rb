require File.expand_path(File.dirname(__FILE__) + '/../spec_helper')

describe Tso, "search" do
  fixtures :tsos

  it "path N001BODY_A00.tso で検索すると one にマッチする" do
    @search = Tso::Search.new('path' => 'N001BODY_A00.tso')
    Tso.find(:all, @search.find_options).should == [ tsos(:one) ]
  end

  it "path N001BODY_A00 で検索すると one にマッチする" do
    @search = Tso::Search.new('path' => 'N001BODY_A00')
    Tso.find(:all, @search.find_options).should == [ tsos(:one) ]
  end

  it "path N001BODY で検索すると one two にマッチする" do
    @search = Tso::Search.new('path' => 'N001BODY')
    Tso.find(:all, @search.find_options).should == [ tsos(:one), tsos(:two) ]
  end
end
